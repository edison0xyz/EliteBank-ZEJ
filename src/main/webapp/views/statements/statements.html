<div ng-include="'views/navbar/navbar.html'"></div>

<div class="container">
    <div class="row">
        <div class="col-lg-12">
            <div class="page-header">
                <h2>Portfolio Statements</h2>
            </div>
            <div class="panel panel-default">
                <div class="panel-body">
                    <div class="row">
                        <div class="col-lg-10 col-lg-offset-1">
                            <table class="table table-hover table-responsive">
                                <thead>
                                <th>Portfolio</th>
                                <th>Month</th>
                                <th>Download</th>
                                </thead>
                                <tbody>
                                <tr ng-repeat="statement in statements">
                                    <td>{{statement.portfolio}}</td>
                                    <td>{{statement.month}}</td>
                                    <td>
                                        <a href="{{statement.link}}"><i
                                                class="glyphicon glyphicon-download"></i></a></td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-10 col-lg-offset-1">
                            <h4>Generate a custom statement</h4>

                            <form name="generateStatement"
                                  ng-submit="generateStatement.$valid && genStatement(start_date, end_date)">
                                <div class="row">
                                    <div class="col-md-4">
                                        <p class="input-group">
                                            <input type="text" class="form-control" datepicker-popup="dd.MM.yyyy"
                                                   ng-model="start_date"
                                                   is-open="start_opened"
                                                   datepicker-options="datepicker.options"
                                                   ng-required="true" close-text="Close"
                                                   placeholder="Enter start date (eg. 17.02.15)"/>
                                  <span class="input-group-btn">
                                    <button type="button" class="btn btn-default" ng-click="start_open($event)"><i
                                            class="glyphicon glyphicon-calendar"></i></button>
                                  </span>
                                        </p>
                                    </div>
                                    <div class="col-md-4">
                                        <p class="input-group">
                                            <input type="text" class="form-control" datepicker-popup="dd.MM.yyyy"
                                                   ng-model="end_date"
                                                   is-open="end_opened"
                                                   datepicker-options="datepicker.options"
                                                   ng-required="true" close-text="Close"
                                                   placeholder="Enter end date (eg. 17.06.15)"/>
                                          <span class="input-group-btn">
                                            <button type="button" class="btn btn-default" ng-click="end_open($event)"><i
                                                    class="glyphicon glyphicon-calendar"></i></button>
                                          </span>
                                        </p>
                                    </div>
                                    <div class="col-md-3 col-md-offset-1">
                                        <button type="submit" class="btn btn-info">Generate statement</button>
                                    </div>
                                </div>
                            </form>
                            <div class="row">
                                <div class="col-lg-12">
                                    <p><strong>{{genText}}</strong></p>
                                    <span ng-if="genLink"><a href="{{genLink}}" target="_blank"
                                                             class="btn btn-primary" download>Download</a></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
